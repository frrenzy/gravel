(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function t(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){n(e,t),t.add(e)}function r(e,t,i){n(e,t),t.set(e,i)}function n(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function a(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}function o(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,l(e,t,"get"))}function s(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,l(e,t,"set"),i),i}function l(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}var c=new WeakMap,u=new WeakMap,h=new WeakMap,d=new WeakMap,v=new WeakMap,p=new WeakMap,b=new WeakMap,_=new WeakMap,f=new WeakMap,w=new WeakMap,m=new WeakMap,y=new WeakMap,k=new WeakMap,g=new WeakSet,S=new WeakSet,E=new WeakSet,q=new WeakSet,L=new WeakMap,W=new WeakMap,M=new WeakMap,I=new WeakMap,x=new WeakSet,A=new WeakSet,T=function(){function e(t){var n=this,a=t.containerSelector,l=t.itemsSelector,T=t.nextScroller,C=t.prevScroller,j=t.activeItemClass,N=void 0===j?null:j,O=t.textItemsSelectors,V=void 0===O?[]:O;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,A),i(this,x),i(this,q),i(this,E),i(this,S),i(this,g),r(this,c,{writable:!0,value:void 0}),r(this,u,{writable:!0,value:void 0}),r(this,h,{writable:!0,value:void 0}),r(this,d,{writable:!0,value:void 0}),r(this,v,{writable:!0,value:void 0}),r(this,p,{writable:!0,value:void 0}),r(this,b,{writable:!0,value:void 0}),r(this,_,{writable:!0,value:void 0}),r(this,f,{writable:!0,value:void 0}),r(this,w,{writable:!0,value:void 0}),r(this,m,{writable:!0,value:void 0}),r(this,y,{writable:!0,value:void 0}),r(this,k,{writable:!0,value:void 0}),r(this,L,{writable:!0,value:function(e){var t="next"===e?o(n,y):0,i="next"===e?0:o(n,y);o(n,h)&&o(n,u)[o(n,f)].classList.remove(o(n,h)),o(n,f)===t&&(o(n,u)[i].scrollIntoView({inline:"start",block:"nearest",behavior:"auto"}),s(n,f,i)),s(n,f,"next"===e?o(n,f)+1:o(n,f)-1)}}),r(this,W,{writable:!0,value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"smooth";o(n,h)&&o(n,u)[o(n,f)].classList.add(o(n,h)),o(n,u)[o(n,f)].scrollIntoView({inline:"start",block:"nearest",behavior:e}),o(n,k).forEach((function(e){var t=e.element,i=e.source;t.textContent=o(n,u)[o(n,f)].dataset[i]}))}}),r(this,M,{writable:!0,value:function(){o(n,L).call(n,"next"),o(n,W).call(n)}}),r(this,I,{writable:!0,value:function(){o(n,L).call(n,"prev"),o(n,W).call(n)}}),s(this,c,document.querySelector(a)),s(this,u,Array.from(o(this,c).querySelectorAll(l))),s(this,h,N),s(this,d,V),s(this,v,T.selector),s(this,p,C.selector),s(this,b,document.querySelector(o(this,v))),s(this,_,document.querySelector(o(this,p))),s(this,w,T.trigger),s(this,m,C.trigger)}var n,l;return n=e,(l=[{key:"setItems",value:function(e){var t=e.containerSelector,i=e.itemsSelector;a(this,A,X).call(this),a(this,q,O).call(this),s(this,c,document.querySelector(t)),s(this,u,Array.from(o(this,c).querySelectorAll(i))),s(this,b,document.querySelector(o(this,v))),s(this,_,document.querySelector(o(this,p))),a(this,S,j).call(this),a(this,E,N).call(this),a(this,x,V).call(this),o(this,W).call(this,"auto")}},{key:"init",value:function(){s(this,f,1),s(this,y,o(this,u).length),a(this,S,j).call(this),a(this,E,N).call(this),a(this,x,V).call(this),o(this,W).call(this,"auto"),a(this,g,C).call(this)}}])&&t(n.prototype,l),Object.defineProperty(n,"prototype",{writable:!1}),e}();function C(){window.scrollTo(0,0)}function j(){s(this,k,o(this,d).map((function(e){return{element:document.querySelector(e.selector),source:e.attributeName}})))}function N(){var t,i=o(this,u)[o(this,y)-1].cloneNode(!0),r=o(this,u)[0].cloneNode(!0);o(this,c).append(r),o(this,c).prepend(i),s(this,u,[i].concat(function(t){if(Array.isArray(t))return e(t)}(t=o(this,u))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(t,i){if(t){if("string"==typeof t)return e(t,i);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,i):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[r]))}function O(){o(this,u)[0].remove(),o(this,u)[o(this,y)+1].remove()}function V(){o(this,b).addEventListener(o(this,w),o(this,M)),o(this,_).addEventListener(o(this,m),o(this,I))}function X(){o(this,b).removeEventListener(o(this,w),o(this,M)),o(this,_).removeEventListener(o(this,m),o(this,I))}var Y=document.querySelectorAll("[data-href]"),D=document.querySelectorAll(".theme-toggler"),P=document.querySelector(".page");!function(e,t){t.addEventListener("touchstart",(function(e){s=e.target,o=Date.now(),i=e.touches[0].clientX,r=e.touches[0].clientY,n=0,a=0}),!1),t.addEventListener("touchmove",(function(e){if(i&&r){var t=e.touches[0].clientX,o=e.touches[0].clientY;n=i-t,a=r-o}}),!1),t.addEventListener("touchend",(function(e){if(s===e.target){var t=Date.now()-o,l="",c=e.changedTouches||e.touches||[];if(Math.abs(n)>Math.abs(a)?Math.abs(n)>20&&t<500&&(l=n>0?"swiped-left":"swiped-right"):Math.abs(a)>20&&t<500&&(l=a>0?"swiped-up":"swiped-down"),""!==l){var u,h,d,v,p={dir:l.replace(/swiped-/,""),touchType:null!==(u=(null!==(h=c[0])&&void 0!==h?h:{}).touchType)&&void 0!==u?u:"direct",xStart:parseInt(i,10),xEnd:parseInt((null!==(d=c[0])&&void 0!==d?d:{}).clientX||-1,10),yStart:parseInt(r,10),yEnd:parseInt((null!==(v=c[0])&&void 0!==v?v:{}).clientY||-1,10)};s.dispatchEvent(new CustomEvent("swiped",{bubbles:!0,cancelable:!0,detail:p})),s.dispatchEvent(new CustomEvent(l,{bubbles:!0,cancelable:!0,detail:p}))}i=null,r=null,o=null}}),!1);var i=null,r=null,n=null,a=null,o=null,s=null}(window,document),new T({containerSelector:".roads__pics-list",itemsSelector:".roads__pics-item",activeItemClass:"roads__pics-item_active",nextScroller:{selector:".roads__button_dir_right",trigger:"click"},prevScroller:{selector:".roads__button_dir_left",trigger:"click"},textItemsSelectors:[{selector:".roads__title",attributeName:"title"},{selector:".roads__text",attributeName:"text"}]}).init();var z=new T({containerSelector:".bikes__type_active>.bikes__bikes",itemsSelector:".bikes__li",nextScroller:{selector:".bikes__type_active",trigger:"swiped-left"},prevScroller:{selector:".bikes__type_active",trigger:"swiped-right"}});z.init(),Y.forEach((function(e){e.addEventListener("click",(function(){var t=e.dataset.href;document.querySelector(t).scrollIntoView({behavior:"smooth"})}))})),D.forEach((function(e){e.addEventListener("click",(function(){P.classList.toggle("page_dark"),e.querySelector(".theme-toggler__switch-toggle").classList.toggle("theme-toggler__switch-toggle_dark")}))})),document.querySelectorAll(".bikes__button").forEach((function(e){e.addEventListener("click",(function(){document.querySelector(".bikes__type_active").classList.remove("bikes__type_active"),document.querySelector(".bikes__button_active").classList.remove("bikes__button_active"),document.querySelector("#bikes-type-".concat(e.dataset.type)).classList.add("bikes__type_active"),e.classList.add("bikes__button_active")}))})),document.querySelector(".header__burger").addEventListener("click",(function(){document.querySelector(".header__nav").classList.toggle("header__nav_opened"),document.querySelector(".header__burger").classList.toggle("hamburger_active")}));var U=document.querySelector(".bikes__select");U.addEventListener("change",(function(e){document.querySelector(".bikes__type_active").classList.remove("bikes__type_active"),document.querySelector("#bikes-type-".concat(U.value)).classList.add("bikes__type_active"),z.setItems({containerSelector:".bikes__type_active>.bikes__bikes",itemsSelector:".bikes__li"})}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxRQUFROEQsS0FDL0I1RCxTQUNHQyxjQUFjMEQsR0FDZHRFLGVBQWUsQ0FDZEcsU0FBVSxVQUVmLEdBQ0YsSUFFRDZCLEVBQW1CM0IsU0FBUSxTQUFBbUUsR0FDekJBLEVBQU8zQyxpQkFBaUIsU0FBUyxXQUMvQkksRUFBS25DLFVBQVUyRSxPQUFPLGFBQ3RCRCxFQUNHNUQsY0FBYyxpQ0FDZGQsVUFDQTJFLE9BQU8sb0NBQ1gsR0FDRixJQUVEOUQsU0FBU0ksaUJBQWlCLGtCQUFrQlYsU0FBUSxTQUFBbUUsR0FDbERBLEVBQU8zQyxpQkFBaUIsU0FBUyxXQUMvQmxCLFNBQ0dDLGNBQWMsdUJBQ2RkLFVBQ0FDLE9BQU8sc0JBQ1ZZLFNBQ0dDLGNBQWMseUJBQ2RkLFVBQ0FDLE9BQU8sd0JBQ1ZZLFNBQ0dDLGNBREgsc0JBQ2dDNEQsRUFBTy9ELFFBQVFpRSxPQUM1QzVFLFVBQ0FNLElBQUksc0JBQ1BvRSxFQUNHMUUsVUFDQU0sSUFBSSx1QkFDUixHQUNGLElBRURPLFNBQVNDLGNBQWMsbUJBQW1CaUIsaUJBQWlCLFNBQVMsV0FDbEVsQixTQUFTQyxjQUFjLGdCQUFnQmQsVUFBVTJFLE9BQU8sc0JBQ3hEOUQsU0FBU0MsY0FBYyxtQkFBbUJkLFVBQVUyRSxPQUFPLG1CQUM1RCxJQUVELElBQU1FLEVBQU1oRSxTQUFTQyxjQUFjLGtCQUNuQytELEVBQUk5QyxpQkFBaUIsVUFBVSxTQUFBK0MsR0FDN0JqRSxTQUNHQyxjQUFjLHVCQUNkZCxVQUNBQyxPQUFPLHNCQUNWWSxTQUNHQyxjQURILHNCQUNnQytELEVBQUlFLFFBQ2pDL0UsVUFDQU0sSUFBSSxzQkFDUGdFLEVBQWNVLFNBQVMsQ0FDckJ6RixrQkFBbUIsb0NBQ25CQyxjQUFlLGNBRWxCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmF2ZWwvLi9zcmMvY29tcG9uZW50cy9DYXJvdXNlbFNjcm9sbGVyLmpzIiwid2VicGFjazovL2dyYXZlbC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vZ3JhdmVsLy4vc3JjL2NvbXBvbmVudHMvc3dpcGUuanMiLCJ3ZWJwYWNrOi8vZ3JhdmVsLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcm91c2VsU2Nyb2xsZXIge1xuICAjY29udGFpbmVyXG4gICNpdGVtc1xuICAjYWN0aXZlSXRlbUNsYXNzXG4gICN0ZXh0SXRlbXNTZWxlY3RvcnNcbiAgI25leHRTY3JvbGxlclNlbGVjdG9yXG4gICNwcmV2U2Nyb2xsZXJTZWxlY3RvclxuICAjbmV4dFNjcm9sbGVyXG4gICNwcmV2U2Nyb2xsZXJcbiAgI2N1cnJlbnRJZHhcbiAgI25leHRUcmlnZ2VyXG4gICNwcmV2VHJpZ2dlclxuICAjbGVuZ3RoXG4gICN0ZXh0RWxlbWVudHNcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgY29udGFpbmVyU2VsZWN0b3IsXG4gICAgaXRlbXNTZWxlY3RvcixcbiAgICBuZXh0U2Nyb2xsZXIsXG4gICAgcHJldlNjcm9sbGVyLFxuICAgIGFjdGl2ZUl0ZW1DbGFzcyA9IG51bGwsXG4gICAgdGV4dEl0ZW1zU2VsZWN0b3JzID0gW11cbiAgfSkge1xuICAgIHRoaXMuI2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICAgIHRoaXMuI2l0ZW1zID0gQXJyYXkuZnJvbSh0aGlzLiNjb250YWluZXIucXVlcnlTZWxlY3RvckFsbChpdGVtc1NlbGVjdG9yKSk7XG4gICAgdGhpcy4jYWN0aXZlSXRlbUNsYXNzID0gYWN0aXZlSXRlbUNsYXNzO1xuICAgIHRoaXMuI3RleHRJdGVtc1NlbGVjdG9ycyA9IHRleHRJdGVtc1NlbGVjdG9ycztcbiAgICB0aGlzLiNuZXh0U2Nyb2xsZXJTZWxlY3RvciA9IG5leHRTY3JvbGxlci5zZWxlY3RvcjtcbiAgICB0aGlzLiNwcmV2U2Nyb2xsZXJTZWxlY3RvciA9IHByZXZTY3JvbGxlci5zZWxlY3RvcjtcbiAgICB0aGlzLiNuZXh0U2Nyb2xsZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuI25leHRTY3JvbGxlclNlbGVjdG9yKTtcbiAgICB0aGlzLiNwcmV2U2Nyb2xsZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuI3ByZXZTY3JvbGxlclNlbGVjdG9yKTtcbiAgICB0aGlzLiNuZXh0VHJpZ2dlciA9IG5leHRTY3JvbGxlci50cmlnZ2VyO1xuICAgIHRoaXMuI3ByZXZUcmlnZ2VyID0gcHJldlNjcm9sbGVyLnRyaWdnZXI7XG4gIH1cblxuICAjcmVzZXRQYWdlKCkge1xuICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcbiAgfVxuXG4gICNzZXRUZXh0RWxlbWVudHMoKSB7XG4gICAgdGhpcy4jdGV4dEVsZW1lbnRzID0gdGhpcy4jdGV4dEl0ZW1zU2VsZWN0b3JzLm1hcChpdGVtID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaXRlbS5zZWxlY3RvciksXG4gICAgICAgIHNvdXJjZTogaXRlbS5hdHRyaWJ1dGVOYW1lXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAjYWRkU2Nyb2xsUGxhY2Vob2xkZXJzKCkge1xuICAgIGNvbnN0IGVuZEVsZW1lbnQgPSB0aGlzLiNpdGVtc1t0aGlzLiNsZW5ndGggLSAxXS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgY29uc3Qgc3RhcnRFbGVtZW50ID0gdGhpcy4jaXRlbXNbMF0uY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgdGhpcy4jY29udGFpbmVyLmFwcGVuZChzdGFydEVsZW1lbnQpO1xuICAgIHRoaXMuI2NvbnRhaW5lci5wcmVwZW5kKGVuZEVsZW1lbnQpO1xuICAgIHRoaXMuI2l0ZW1zID0gW2VuZEVsZW1lbnQsIC4uLnRoaXMuI2l0ZW1zLCBzdGFydEVsZW1lbnRdO1xuICB9XG5cbiAgI3JlbW92ZVNjcm9sbFBsYWNlaG9sZGVycygpIHtcbiAgICB0aGlzLiNpdGVtc1swXS5yZW1vdmUoKTtcbiAgICB0aGlzLiNpdGVtc1t0aGlzLiNsZW5ndGggKyAxXS5yZW1vdmUoKTtcbiAgfVxuXG4gICNjaGVja1Njcm9sbEJvcmRlciA9IChkaXIpID0+IHtcbiAgICBjb25zdCBib3JkZXIgPSBkaXIgPT09ICduZXh0JyA/IHRoaXMuI2xlbmd0aCA6IDA7XG4gICAgY29uc3QgcGxhY2Vob2xkZXIgPSBkaXIgPT09ICduZXh0JyA/IDAgOiB0aGlzLiNsZW5ndGg7XG4gICAgaWYgKHRoaXMuI2FjdGl2ZUl0ZW1DbGFzcykge1xuICAgICAgdGhpcy4jaXRlbXNbdGhpcy4jY3VycmVudElkeF0uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLiNhY3RpdmVJdGVtQ2xhc3MpO1xuICAgIH1cbiAgICBpZiAodGhpcy4jY3VycmVudElkeCA9PT0gYm9yZGVyKSB7XG4gICAgICB0aGlzLiNpdGVtc1twbGFjZWhvbGRlcl0uc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgICBpbmxpbmU6ICdzdGFydCcsXG4gICAgICAgIGJsb2NrOiAnbmVhcmVzdCcsXG4gICAgICAgIGJlaGF2aW9yOiAnYXV0bydcbiAgICAgIH0pO1xuICAgICAgdGhpcy4jY3VycmVudElkeCA9IHBsYWNlaG9sZGVyO1xuICAgIH1cbiAgICB0aGlzLiNjdXJyZW50SWR4ID0gZGlyID09PSAnbmV4dCdcbiAgICAgID8gdGhpcy4jY3VycmVudElkeCArIDFcbiAgICAgIDogdGhpcy4jY3VycmVudElkeCAtIDE7XG4gIH1cblxuICAjc2Nyb2xsVG9DdXJyZW50SXRlbSA9IChiZWhhdmlvciA9ICdzbW9vdGgnKSA9PiB7XG4gICAgaWYgKHRoaXMuI2FjdGl2ZUl0ZW1DbGFzcykge1xuICAgICAgdGhpcy4jaXRlbXNbdGhpcy4jY3VycmVudElkeF0uY2xhc3NMaXN0LmFkZCh0aGlzLiNhY3RpdmVJdGVtQ2xhc3MpO1xuICAgIH1cbiAgICB0aGlzLiNpdGVtc1t0aGlzLiNjdXJyZW50SWR4XS5zY3JvbGxJbnRvVmlldyh7XG4gICAgICBpbmxpbmU6ICdzdGFydCcsXG4gICAgICBibG9jazogJ25lYXJlc3QnLFxuICAgICAgYmVoYXZpb3JcbiAgICB9KTtcbiAgICB0aGlzLiN0ZXh0RWxlbWVudHMuZm9yRWFjaCgoeyBlbGVtZW50LCBzb3VyY2UgfSkgPT4ge1xuICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuI2l0ZW1zW3RoaXMuI2N1cnJlbnRJZHhdLmRhdGFzZXRbc291cmNlXTtcbiAgICB9KTtcbiAgfVxuXG4gICNuZXh0RXZlbnRIYW5kbGVyID0gKCkgPT4ge1xuICAgIHRoaXMuI2NoZWNrU2Nyb2xsQm9yZGVyKCduZXh0Jyk7XG4gICAgdGhpcy4jc2Nyb2xsVG9DdXJyZW50SXRlbSgpO1xuICB9XG5cbiAgI3ByZXZFdmVudEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgdGhpcy4jY2hlY2tTY3JvbGxCb3JkZXIoJ3ByZXYnKTtcbiAgICB0aGlzLiNzY3JvbGxUb0N1cnJlbnRJdGVtKCk7XG4gIH1cblxuICAjc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy4jbmV4dFNjcm9sbGVyLmFkZEV2ZW50TGlzdGVuZXIodGhpcy4jbmV4dFRyaWdnZXIsIHRoaXMuI25leHRFdmVudEhhbmRsZXIpO1xuICAgIHRoaXMuI3ByZXZTY3JvbGxlci5hZGRFdmVudExpc3RlbmVyKHRoaXMuI3ByZXZUcmlnZ2VyLCB0aGlzLiNwcmV2RXZlbnRIYW5kbGVyKTtcbiAgfVxuXG4gICNyZW1vdmVFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLiNuZXh0U2Nyb2xsZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLiNuZXh0VHJpZ2dlciwgdGhpcy4jbmV4dEV2ZW50SGFuZGxlcik7XG4gICAgdGhpcy4jcHJldlNjcm9sbGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy4jcHJldlRyaWdnZXIsIHRoaXMuI3ByZXZFdmVudEhhbmRsZXIpO1xuICB9XG5cbiAgc2V0SXRlbXMoeyBjb250YWluZXJTZWxlY3RvciwgaXRlbXNTZWxlY3RvciB9KSB7XG4gICAgdGhpcy4jcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLiNyZW1vdmVTY3JvbGxQbGFjZWhvbGRlcnMoKVxuICAgIHRoaXMuI2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICAgIHRoaXMuI2l0ZW1zID0gQXJyYXkuZnJvbSh0aGlzLiNjb250YWluZXIucXVlcnlTZWxlY3RvckFsbChpdGVtc1NlbGVjdG9yKSk7XG4gICAgdGhpcy4jbmV4dFNjcm9sbGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLiNuZXh0U2Nyb2xsZXJTZWxlY3Rvcik7XG4gICAgdGhpcy4jcHJldlNjcm9sbGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLiNwcmV2U2Nyb2xsZXJTZWxlY3Rvcik7XG4gICAgdGhpcy4jc2V0VGV4dEVsZW1lbnRzKClcbiAgICB0aGlzLiNhZGRTY3JvbGxQbGFjZWhvbGRlcnMoKTtcbiAgICB0aGlzLiNzZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuI3Njcm9sbFRvQ3VycmVudEl0ZW0oJ2F1dG8nKTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy4jY3VycmVudElkeCA9IDE7XG4gICAgdGhpcy4jbGVuZ3RoID0gdGhpcy4jaXRlbXMubGVuZ3RoO1xuICAgIHRoaXMuI3NldFRleHRFbGVtZW50cygpXG4gICAgdGhpcy4jYWRkU2Nyb2xsUGxhY2Vob2xkZXJzKCk7XG4gICAgdGhpcy4jc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLiNzY3JvbGxUb0N1cnJlbnRJdGVtKCdhdXRvJyk7XG4gICAgdGhpcy4jcmVzZXRQYWdlKClcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGFuY2hvckxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaHJlZl0nKTtcbmV4cG9ydCBjb25zdCB0b2dnbGVUaGVtZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGhlbWUtdG9nZ2xlcicpO1xuZXhwb3J0IGNvbnN0IHBhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnZScpO1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlU3dpcGVFdmVudCh3aW5kb3csIGRvY3VtZW50KSB7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBoYW5kbGVUb3VjaFN0YXJ0LCBmYWxzZSk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGhhbmRsZVRvdWNoTW92ZSwgZmFsc2UpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGhhbmRsZVRvdWNoRW5kLCBmYWxzZSk7XG5cbiAgbGV0IHhEb3duID0gbnVsbDtcbiAgbGV0IHlEb3duID0gbnVsbDtcbiAgbGV0IHhEaWZmID0gbnVsbDtcbiAgbGV0IHlEaWZmID0gbnVsbDtcbiAgbGV0IHRpbWVEb3duID0gbnVsbDtcbiAgbGV0IHN0YXJ0RWxlbWVudCA9IG51bGw7XG5cbiAgZnVuY3Rpb24gaGFuZGxlVG91Y2hFbmQoZSkge1xuICAgIGlmIChzdGFydEVsZW1lbnQgIT09IGUudGFyZ2V0KSByZXR1cm47XG5cbiAgICBjb25zdCBzd2lwZVRocmVzaG9sZCA9IDIwO1xuICAgIGNvbnN0IHN3aXBlVGltZW91dCA9IDUwMDtcbiAgICBjb25zdCB0aW1lRGlmZiA9IERhdGUubm93KCkgLSB0aW1lRG93bjtcbiAgICBsZXQgZXZlbnRUeXBlID0gJyc7XG4gICAgY29uc3QgY2hhbmdlZFRvdWNoZXMgPSBlLmNoYW5nZWRUb3VjaGVzIHx8IGUudG91Y2hlcyB8fCBbXTtcblxuICAgIGlmIChNYXRoLmFicyh4RGlmZikgPiBNYXRoLmFicyh5RGlmZikpIHtcbiAgICAgIGlmIChNYXRoLmFicyh4RGlmZikgPiBzd2lwZVRocmVzaG9sZCAmJiB0aW1lRGlmZiA8IHN3aXBlVGltZW91dCkge1xuICAgICAgICBldmVudFR5cGUgPSB4RGlmZiA+IDAgPyAnc3dpcGVkLWxlZnQnIDogJ3N3aXBlZC1yaWdodCc7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChNYXRoLmFicyh5RGlmZikgPiBzd2lwZVRocmVzaG9sZCAmJiB0aW1lRGlmZiA8IHN3aXBlVGltZW91dCkge1xuICAgICAgZXZlbnRUeXBlID0geURpZmYgPiAwID8gJ3N3aXBlZC11cCcgOiAnc3dpcGVkLWRvd24nO1xuICAgIH1cblxuICAgIGlmIChldmVudFR5cGUgIT09ICcnKSB7XG5cbiAgICAgIGNvbnN0IGV2ZW50RGF0YSA9IHtcbiAgICAgICAgZGlyOiBldmVudFR5cGUucmVwbGFjZSgvc3dpcGVkLS8sICcnKSxcbiAgICAgICAgdG91Y2hUeXBlOiAoY2hhbmdlZFRvdWNoZXNbMF0gPz8ge30pLnRvdWNoVHlwZSA/PyAnZGlyZWN0JyxcbiAgICAgICAgeFN0YXJ0OiBwYXJzZUludCh4RG93biwgMTApLFxuICAgICAgICB4RW5kOiBwYXJzZUludCgoY2hhbmdlZFRvdWNoZXNbMF0gPz8ge30pLmNsaWVudFggfHwgLTEsIDEwKSxcbiAgICAgICAgeVN0YXJ0OiBwYXJzZUludCh5RG93biwgMTApLFxuICAgICAgICB5RW5kOiBwYXJzZUludCgoY2hhbmdlZFRvdWNoZXNbMF0gPz8ge30pLmNsaWVudFkgfHwgLTEsIDEwKVxuICAgICAgfTtcblxuICAgICAgc3RhcnRFbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdzd2lwZWQnLCB7IGJ1YmJsZXM6IHRydWUsIGNhbmNlbGFibGU6IHRydWUsIGRldGFpbDogZXZlbnREYXRhIH0pKTtcblxuICAgICAgc3RhcnRFbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KGV2ZW50VHlwZSwgeyBidWJibGVzOiB0cnVlLCBjYW5jZWxhYmxlOiB0cnVlLCBkZXRhaWw6IGV2ZW50RGF0YSB9KSk7XG4gICAgfVxuXG4gICAgeERvd24gPSBudWxsO1xuICAgIHlEb3duID0gbnVsbDtcbiAgICB0aW1lRG93biA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVUb3VjaFN0YXJ0KGUpIHtcblxuICAgIHN0YXJ0RWxlbWVudCA9IGUudGFyZ2V0O1xuXG4gICAgdGltZURvd24gPSBEYXRlLm5vdygpO1xuICAgIHhEb3duID0gZS50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgeURvd24gPSBlLnRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICB4RGlmZiA9IDA7XG4gICAgeURpZmYgPSAwO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlKGUpIHtcbiAgICBpZiAoIXhEb3duIHx8ICF5RG93bikgcmV0dXJuO1xuXG4gICAgY29uc3QgeFVwID0gZS50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgY29uc3QgeVVwID0gZS50b3VjaGVzWzBdLmNsaWVudFk7XG5cbiAgICB4RGlmZiA9IHhEb3duIC0geFVwO1xuICAgIHlEaWZmID0geURvd24gLSB5VXA7XG4gIH1cblxuICBmdW5jdGlvbiBnZXROZWFyZXN0QXR0cmlidXRlKGVsLCBhdHRyaWJ1dGVOYW1lLCBkZWZhdWx0VmFsdWUpIHtcbiAgICB3aGlsZSAoZWwgJiYgZWwgIT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgICAgY29uc3QgYXR0cmlidXRlVmFsdWUgPSBlbC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG5cbiAgICAgIGlmIChhdHRyaWJ1dGVWYWx1ZSkge1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlVmFsdWU7XG4gICAgICB9XG4gICAgICBlbCA9IGVsLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gIH1cbn07XG4iLCJpbXBvcnQgY3JlYXRlU3dpcGVFdmVudCBmcm9tICdAL2NvbXBvbmVudHMvc3dpcGUnO1xuaW1wb3J0IENhcm91c2VsU2Nyb2xsZXIgZnJvbSAnQC9jb21wb25lbnRzL0Nhcm91c2VsU2Nyb2xsZXInO1xuXG5pbXBvcnQgeyBhbmNob3JMaW5rcywgcGFnZSwgdG9nZ2xlVGhlbWVCdXR0b25zIH0gZnJvbSAnQC91dGlscy9jb25zdGFudHMuanMnO1xuXG5cbmNyZWF0ZVN3aXBlRXZlbnQod2luZG93LCBkb2N1bWVudCk7XG5cbmNvbnN0IHJvYWRzQ2Fyb3VzZWwgPSBuZXcgQ2Fyb3VzZWxTY3JvbGxlcih7XG4gIGNvbnRhaW5lclNlbGVjdG9yOiAnLnJvYWRzX19waWNzLWxpc3QnLFxuICBpdGVtc1NlbGVjdG9yOiAnLnJvYWRzX19waWNzLWl0ZW0nLFxuICBhY3RpdmVJdGVtQ2xhc3M6ICdyb2Fkc19fcGljcy1pdGVtX2FjdGl2ZScsXG4gIG5leHRTY3JvbGxlcjoge1xuICAgIHNlbGVjdG9yOiAnLnJvYWRzX19idXR0b25fZGlyX3JpZ2h0JyxcbiAgICB0cmlnZ2VyOiAnY2xpY2snLFxuICB9LFxuICBwcmV2U2Nyb2xsZXI6IHtcbiAgICBzZWxlY3RvcjogJy5yb2Fkc19fYnV0dG9uX2Rpcl9sZWZ0JyxcbiAgICB0cmlnZ2VyOiAnY2xpY2snXG4gIH0sXG4gIHRleHRJdGVtc1NlbGVjdG9yczogW1xuICAgIHsgc2VsZWN0b3I6ICcucm9hZHNfX3RpdGxlJywgYXR0cmlidXRlTmFtZTogJ3RpdGxlJyB9LFxuICAgIHsgc2VsZWN0b3I6ICcucm9hZHNfX3RleHQnLCBhdHRyaWJ1dGVOYW1lOiAndGV4dCcgfSxcbiAgXVxufSk7XG5yb2Fkc0Nhcm91c2VsLmluaXQoKTtcblxuY29uc3QgYmlrZXNDYXJvdXNlbCA9IG5ldyBDYXJvdXNlbFNjcm9sbGVyKHtcbiAgY29udGFpbmVyU2VsZWN0b3I6ICcuYmlrZXNfX3R5cGVfYWN0aXZlPi5iaWtlc19fYmlrZXMnLFxuICBpdGVtc1NlbGVjdG9yOiAnLmJpa2VzX19saScsXG4gIG5leHRTY3JvbGxlcjoge1xuICAgIHNlbGVjdG9yOiAnLmJpa2VzX190eXBlX2FjdGl2ZScsXG4gICAgdHJpZ2dlcjogJ3N3aXBlZC1sZWZ0J1xuICB9LFxuICBwcmV2U2Nyb2xsZXI6IHtcbiAgICBzZWxlY3RvcjogJy5iaWtlc19fdHlwZV9hY3RpdmUnLFxuICAgIHRyaWdnZXI6ICdzd2lwZWQtcmlnaHQnXG4gIH1cbn0pO1xuYmlrZXNDYXJvdXNlbC5pbml0KCk7XG5cbmFuY2hvckxpbmtzLmZvckVhY2gobGluayA9PiB7XG4gIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY29uc3Qgc2VjdGlvbklkID0gbGluay5kYXRhc2V0LmhyZWY7XG4gICAgZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHNlY3Rpb25JZClcbiAgICAgIC5zY3JvbGxJbnRvVmlldyh7XG4gICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICAgICAgfSk7XG4gIH0pO1xufSk7XG5cbnRvZ2dsZVRoZW1lQnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiB7XG4gIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBwYWdlLmNsYXNzTGlzdC50b2dnbGUoJ3BhZ2VfZGFyaycpO1xuICAgIGJ1dHRvblxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy50aGVtZS10b2dnbGVyX19zd2l0Y2gtdG9nZ2xlJylcbiAgICAgIC5jbGFzc0xpc3RcbiAgICAgIC50b2dnbGUoJ3RoZW1lLXRvZ2dsZXJfX3N3aXRjaC10b2dnbGVfZGFyaycpO1xuICB9KTtcbn0pO1xuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYmlrZXNfX2J1dHRvbicpLmZvckVhY2goYnV0dG9uID0+IHtcbiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcignLmJpa2VzX190eXBlX2FjdGl2ZScpXG4gICAgICAuY2xhc3NMaXN0XG4gICAgICAucmVtb3ZlKCdiaWtlc19fdHlwZV9hY3RpdmUnKTtcbiAgICBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5iaWtlc19fYnV0dG9uX2FjdGl2ZScpXG4gICAgICAuY2xhc3NMaXN0XG4gICAgICAucmVtb3ZlKCdiaWtlc19fYnV0dG9uX2FjdGl2ZScpO1xuICAgIGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihgI2Jpa2VzLXR5cGUtJHtidXR0b24uZGF0YXNldC50eXBlfWApXG4gICAgICAuY2xhc3NMaXN0XG4gICAgICAuYWRkKCdiaWtlc19fdHlwZV9hY3RpdmUnKTtcbiAgICBidXR0b25cbiAgICAgIC5jbGFzc0xpc3RcbiAgICAgIC5hZGQoJ2Jpa2VzX19idXR0b25fYWN0aXZlJyk7XG4gIH0pO1xufSk7XG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2J1cmdlcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19uYXYnKS5jbGFzc0xpc3QudG9nZ2xlKCdoZWFkZXJfX25hdl9vcGVuZWQnKVxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19idXJnZXInKS5jbGFzc0xpc3QudG9nZ2xlKCdoYW1idXJnZXJfYWN0aXZlJylcbn0pO1xuXG5jb25zdCBzZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmlrZXNfX3NlbGVjdCcpXG5zZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZXZ0ID0+IHtcbiAgZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3RvcignLmJpa2VzX190eXBlX2FjdGl2ZScpXG4gICAgLmNsYXNzTGlzdFxuICAgIC5yZW1vdmUoJ2Jpa2VzX190eXBlX2FjdGl2ZScpO1xuICBkb2N1bWVudFxuICAgIC5xdWVyeVNlbGVjdG9yKGAjYmlrZXMtdHlwZS0ke3NlbC52YWx1ZX1gKVxuICAgIC5jbGFzc0xpc3RcbiAgICAuYWRkKCdiaWtlc19fdHlwZV9hY3RpdmUnKTtcbiAgYmlrZXNDYXJvdXNlbC5zZXRJdGVtcyh7XG4gICAgY29udGFpbmVyU2VsZWN0b3I6ICcuYmlrZXNfX3R5cGVfYWN0aXZlPi5iaWtlc19fYmlrZXMnLFxuICAgIGl0ZW1zU2VsZWN0b3I6ICcuYmlrZXNfX2xpJ1xuICB9KVxufSk7XG4iXSwibmFtZXMiOlsiQ2Fyb3VzZWxTY3JvbGxlciIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXNTZWxlY3RvciIsIm5leHRTY3JvbGxlciIsInByZXZTY3JvbGxlciIsImFjdGl2ZUl0ZW1DbGFzcyIsInRleHRJdGVtc1NlbGVjdG9ycyIsImRpciIsImJvcmRlciIsInBsYWNlaG9sZGVyIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwic2Nyb2xsSW50b1ZpZXciLCJpbmxpbmUiLCJibG9jayIsImJlaGF2aW9yIiwiYWRkIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJzb3VyY2UiLCJ0ZXh0Q29udGVudCIsImRhdGFzZXQiLCJ0aGlzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsInNlbGVjdG9yIiwidHJpZ2dlciIsImxlbmd0aCIsIndpbmRvdyIsInNjcm9sbFRvIiwibWFwIiwiaXRlbSIsImF0dHJpYnV0ZU5hbWUiLCJlbmRFbGVtZW50IiwiY2xvbmVOb2RlIiwic3RhcnRFbGVtZW50IiwiYXBwZW5kIiwicHJlcGVuZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYW5jaG9yTGlua3MiLCJ0b2dnbGVUaGVtZUJ1dHRvbnMiLCJwYWdlIiwiZSIsInRhcmdldCIsInRpbWVEb3duIiwiRGF0ZSIsIm5vdyIsInhEb3duIiwidG91Y2hlcyIsImNsaWVudFgiLCJ5RG93biIsImNsaWVudFkiLCJ4RGlmZiIsInlEaWZmIiwieFVwIiwieVVwIiwidGltZURpZmYiLCJldmVudFR5cGUiLCJjaGFuZ2VkVG91Y2hlcyIsIk1hdGgiLCJhYnMiLCJldmVudERhdGEiLCJyZXBsYWNlIiwidG91Y2hUeXBlIiwieFN0YXJ0IiwicGFyc2VJbnQiLCJ4RW5kIiwieVN0YXJ0IiwieUVuZCIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiZGV0YWlsIiwiY3JlYXRlU3dpcGVFdmVudCIsImluaXQiLCJiaWtlc0Nhcm91c2VsIiwibGluayIsInNlY3Rpb25JZCIsImhyZWYiLCJidXR0b24iLCJ0b2dnbGUiLCJ0eXBlIiwic2VsIiwiZXZ0IiwidmFsdWUiLCJzZXRJdGVtcyJdLCJzb3VyY2VSb290IjoiIn0=