(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var n=function(){function n(e){var t=this,i=e.containerSelector,o=e.itemsSelector,s=e.nextScroller,l=e.prevScroller,c=e.activeItemClass,a=void 0===c?null:c,u=e.textItemsSelectors,_=void 0===u?[]:u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r(this,"_checkScrollBorder",(function(e){var r="next"===e?t._length:1,n="next"===e?0:t._length+1;t._activeItemClass&&t._items[t._currentIdx].classList.remove(t._activeItemClass),t._currentIdx===r&&(t._items[n].scrollIntoView({inline:"start",block:"nearest",behavior:"auto"}),t._currentIdx=n),t._currentIdx="next"===e?t._currentIdx+1:t._currentIdx-1})),r(this,"_scrollToCurrentItem",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"smooth";t._activeItemClass&&t._items[t._currentIdx].classList.add(t._activeItemClass),t._items[t._currentIdx].scrollIntoView({inline:"start",block:"nearest",behavior:e}),t._textElements.forEach((function(e){var r=e.element,n=e.source;r.textContent=t._items[t._currentIdx].dataset[n]}))})),r(this,"_nextEventHandler",(function(){t._checkScrollBorder("next"),t._scrollToCurrentItem()})),r(this,"_prevEventHandler",(function(){t._checkScrollBorder("prev"),t._scrollToCurrentItem()})),this._containerSelector=i,this._itemsSelector=o,this._activeItemClass=a,this._textItemsSelectors=_,this._nextScrollerSelector=s,this._prevScrollerSelector=l,this._nextScroller=document.querySelector(this._nextScrollerSelector),this._prevScroller=document.querySelector(this._prevScrollerSelector)}var i,o;return i=n,(o=[{key:"_resetPage",value:function(){window.scrollTo(0,0)}},{key:"_getTextElements",value:function(){this._textElements=this._textItemsSelectors.map((function(e){return{element:document.querySelector(e.selector),source:e.attributeName}}))}},{key:"_addScrollPlaceholders",value:function(){var t,r=this._items[this._length-1].cloneNode(!0),n=this._items[0].cloneNode(!0);this._container.append(n),this._container.prepend(r),this._items=[r].concat(function(t){if(Array.isArray(t))return e(t)}(t=this._items)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(t,r){if(t){if("string"==typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,r):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[n])}},{key:"_removeScrollPlaceholders",value:function(){this._items[0].remove(),this._items[this._length+1].remove()}},{key:"_setEventListeners",value:function(){this._nextScroller.addEventListener("click",this._nextEventHandler),this._prevScroller.addEventListener("click",this._prevEventHandler)}},{key:"_removeEventListeners",value:function(){this._nextScroller.removeEventListener("click",this._nextEventHandler),this._prevScroller.removeEventListener("click",this._prevEventHandler)}},{key:"_getElements",value:function(){this._container=document.querySelector(this._containerSelector),this._items=Array.from(this._container.querySelectorAll(this._itemsSelector)),this._currentIdx=1,this._length=this._items.length}},{key:"resetItems",value:function(){this._removeEventListeners(),this._removeScrollPlaceholders(),this._getElements(),this._getTextElements(),this._addScrollPlaceholders(),this._setEventListeners(),this._scrollToCurrentItem("auto")}},{key:"init",value:function(){this._getElements(),this._getTextElements(),this._addScrollPlaceholders(),this._setEventListeners(),this._scrollToCurrentItem("auto"),this._resetPage()}}])&&t(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),n}();function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(){function e(t){var r=this,n=t.baseSelector,i=t.selectSelector,s=t.buttonSelector,l=t.dotsSelector,c=t.selectCallback,a=t.activeButtonClass,u=t.activeDotClass,_=t.activeContentClass,h=t.buttonCallback,v=void 0===h?function(){}:h;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"_setActiveBikes",(function(e){r._base.querySelector(".".concat(r._activeContentClass)).classList.remove(r._activeContentClass),r._base.querySelector("#bikes-type-".concat(e)).classList.add(r._activeContentClass)})),o(this,"setActiveDot",(function(e){r._dots.find((function(e){return e.classList.contains(r._activeDotClass)})).classList.remove(r._activeDotClass),r._dots[e].classList.add(r._activeDotClass)})),this._base=document.querySelector(n),this._select=document.querySelector(i),this._buttons=Array.from(document.querySelectorAll(s)),this._dots=Array.from(document.querySelectorAll(l)),this._selectCallback=c,this._buttonCallback=v,this._activeButtonClass=a,this._activeDotClass=u,this._activeContentClass=_}var t,r;return t=e,(r=[{key:"_toggleActiveButton",value:function(e){this._base.querySelector(".".concat(this._activeButtonClass)).classList.remove(this._activeButtonClass),e.classList.add(this._activeButtonClass)}},{key:"setEventListeners",value:function(){var e=this;this._select.addEventListener("change",(function(){e._setActiveBikes(e._select.value),e._selectCallback(),e._select.blur()})),this._buttons.forEach((function(t){t.addEventListener("click",(function(){e._setActiveBikes(t.dataset.type),e._toggleActiveButton(t),e._buttonCallback()}))}))}}])&&i(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(){function e(t){var r=this,n=t.containerSelector,i=t.itemsSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"_checkScrollBorder",(function(e){var t="next"===e?r._length:1,n="next"===e?0:r._length+1;r._currentIdx===t&&(r._items[n].scrollIntoView({inline:"start",block:"nearest",behavior:"auto"}),r._currentIdx=n),r._currentIdx="next"===e?r._currentIdx+1:r._currentIdx-1})),a(this,"_scrollToCurrentItem",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"smooth";r._items[r._currentIdx].scrollIntoView({inline:"start",block:"nearest",behavior:e}),r._callback(r._currentIdx-1)})),a(this,"_startTouch",(function(e){r._initialX=e.touches[0].clientX,r._initialY=e.touches[0].clientY})),a(this,"_moveTouch",(function(e){if(null!==r._initialX&&null!==r._initialY){var t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY,i=r._initialX-t,o=r._initialY-n;Math.abs(i)>Math.abs(o)&&(r._checkScrollBorder(i>0?"next":"prev"),r._scrollToCurrentItem()),r._initialX=null,r._initialY=null,e.preventDefault()}})),a(this,"_setEventListeners",(function(){r._initialX=null,r._initialY=null,r._container.addEventListener("touchstart",r._startTouch,!1),r._container.addEventListener("touchmove",r._moveTouch,!1)})),this._containerSelector=n,this._itemsSelector=i}var t,r;return t=e,(r=[{key:"_resetPage",value:function(){window.scrollTo(0,0)}},{key:"setElements",value:function(){this._container=document.querySelector(this._containerSelector),this._items=Array.from(this._container.querySelectorAll(this._itemsSelector)),this._currentIdx=1,this._length=this._items.length}},{key:"_addScrollPlaceholders",value:function(){var e,t=this._items[this._length-1].cloneNode(!0),r=this._items[0].cloneNode(!0);this._container.append(r),this._container.prepend(t),this._items=[t].concat(function(e){if(Array.isArray(e))return l(e)}(e=this._items)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[r])}},{key:"_removeScrollPlaceholders",value:function(){this._items[0].remove(),this._items[this._length+1].remove()}},{key:"_removeEventListeners",value:function(){this._container.removeEventListener("touchstart",this._startTouch,!1),this._container.removeEventListener("touchmove",this._moveTouch,!1)}},{key:"resetItems",value:function(){this._currentIdx=1,this._removeScrollPlaceholders(),this._removeEventListeners(),this.setElements(),this._addScrollPlaceholders(),this._setEventListeners(),this._scrollToCurrentItem(),this._callback(this._currentIdx-1)}},{key:"init",value:function(e){this._currentIdx=1,this._callback=e,window.matchMedia("(max-width: 768px)").matches&&(this.setElements(),this._addScrollPlaceholders(),this._setEventListeners(),this._scrollToCurrentItem("auto"),this._resetPage())}}])&&c(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),_=document.querySelectorAll("[data-href]"),h=document.querySelectorAll(".theme-toggler"),v=document.querySelector(".page"),d=document.querySelector(".header__burger"),m=document.querySelector(".header__nav"),f=document.querySelector(".footer__form"),b=f.querySelector(".footer__input"),y=function(){m.classList.toggle("header__nav_opened"),d.classList.toggle("hamburger_active")};new n({containerSelector:".roads__pics-list",itemsSelector:".roads__pics-item",activeItemClass:"roads__pics-item_active",nextScroller:".roads__button_dir_right",prevScroller:".roads__button_dir_left",textItemsSelectors:[{selector:".roads__title",attributeName:"title"},{selector:".roads__text",attributeName:"text"}]}).init();var S=new u({containerSelector:".bikes__type_active > .bikes__bikes",itemsSelector:".bikes__li"});_.forEach((function(e){e.addEventListener("click",(function(){var t=e.dataset.href;document.querySelector(t).scrollIntoView({behavior:"smooth"})}))})),h.forEach((function(e){e.addEventListener("click",(function(){v.classList.toggle("page_dark"),e.querySelector(".theme-toggler__switch-toggle").classList.toggle("theme-toggler__switch-toggle_dark")}))})),d.addEventListener("click",y),m.addEventListener("click",(function(e){e.target.classList.contains("header__link")&&y()}));var p=new s({baseSelector:".bikes",selectSelector:".bikes__select",buttonSelector:".bikes__button",dotsSelector:".bikes__current-option",selectCallback:function(){return S.resetItems()},activeButtonClass:"bikes__button_active",activeContentClass:"bikes__type_active",activeDotClass:"bikes__current-option_active"});p.setEventListeners(),S.init(p.setActiveDot),f.addEventListener("submit",(function(e){e.preventDefault(),b.value="Круто!",b.blur(),setTimeout((function(){return b.value=""}),1e3)}))})();
//# sourceMappingURL=index.1.b9803b21.js.map