(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t){i(e,t),t.add(e)}function r(e,t,n){i(e,t),t.set(e,n)}function i(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function a(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,c(e,t,"get"))}function l(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,c(e,t,"set"),n),n}function c(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var s=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,v=new WeakMap,f=new WeakMap,p=new WeakMap,b=new WeakMap,w=new WeakMap,m=new WeakSet,_=new WeakSet,y=new WeakSet,S=new WeakMap,g=new WeakMap,k=new WeakSet,E=function(){function e(t){var i=this,o=t.containerSelector,c=t.itemsSelector,E=t.nextScrollerSelector,L=t.prevScrollerSelector,q=t.activeItemClass,M=t.textItemsSelectors;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n(this,k),n(this,y),n(this,_),n(this,m),r(this,s,{writable:!0,value:void 0}),r(this,u,{writable:!0,value:void 0}),r(this,d,{writable:!0,value:void 0}),r(this,h,{writable:!0,value:void 0}),r(this,v,{writable:!0,value:void 0}),r(this,f,{writable:!0,value:void 0}),r(this,p,{writable:!0,value:void 0}),r(this,b,{writable:!0,value:void 0}),r(this,w,{writable:!0,value:void 0}),r(this,S,{writable:!0,value:function(e){var t="next"===e?a(i,b):0,n="next"===e?0:a(i,b);a(i,u)[a(i,p)].classList.remove(a(i,d)),a(i,p)===t&&(a(i,u)[n].scrollIntoView({inline:"start",block:"nearest",behavior:"auto"}),l(i,p,n)),l(i,p,"next"===e?a(i,p)+1:a(i,p)-1)}}),r(this,g,{writable:!0,value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"smooth";a(i,u)[a(i,p)].classList.add(a(i,d)),a(i,u)[a(i,p)].scrollIntoView({inline:"start",block:"nearest",behavior:e}),a(i,w).forEach((function(e){var t=e.element,n=e.source;t.textContent=a(i,u)[a(i,p)].dataset[n]}))}}),l(this,s,document.querySelector(o)),l(this,u,Array.from(document.querySelectorAll(c))),l(this,d,q),l(this,h,M),l(this,v,document.querySelector(E)),l(this,f,document.querySelector(L))}var i,c;return i=e,(c=[{key:"init",value:function(){l(this,p,1),l(this,b,a(this,u).length),o(this,_,q).call(this),o(this,y,M).call(this),o(this,k,W).call(this),a(this,g).call(this,"auto"),o(this,m,L).call(this)}}])&&t(i.prototype,c),Object.defineProperty(i,"prototype",{writable:!1}),e}();function L(){window.scrollTo(0,0)}function q(){l(this,w,a(this,h).map((function(e){return{element:document.querySelector(e.selector),source:e.attributeName}})))}function M(){var t,n=a(this,u)[a(this,b)-1].cloneNode(!0),r=a(this,u)[0].cloneNode(!0);a(this,s).append(r),a(this,s).prepend(n),l(this,u,[n].concat(function(t){if(Array.isArray(t))return e(t)}(t=a(this,u))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[r]))}function W(){var e=this;a(this,v).addEventListener("click",(function(){a(e,S).call(e,"next"),a(e,g).call(e)})),a(this,f).addEventListener("click",(function(){a(e,S).call(e,"prev"),a(e,g).call(e)}))}var I=document.querySelectorAll("[data-href]"),x=document.querySelector(".footer__theme-switch"),A=document.querySelector(".page");!function(e,t){t.addEventListener("touchstart",(function(e){l=e.target,a=Date.now(),n=e.touches[0].clientX,r=e.touches[0].clientY,i=0,o=0}),!1),t.addEventListener("touchmove",(function(e){if(n&&r){var t=e.touches[0].clientX,a=e.touches[0].clientY;i=n-t,o=r-a}}),!1),t.addEventListener("touchend",(function(e){if(l===e.target){var t=Date.now()-a,c="",s=e.changedTouches||e.touches||[];if(Math.abs(i)>Math.abs(o)?Math.abs(i)>20&&t<500&&(c=i>0?"swiped-left":"swiped-right"):Math.abs(o)>20&&t<500&&(c=o>0?"swiped-up":"swiped-down"),""!==c){var u,d,h,v,f={dir:c.replace(/swiped-/,""),touchType:null!==(u=(null!==(d=s[0])&&void 0!==d?d:{}).touchType)&&void 0!==u?u:"direct",xStart:parseInt(n,10),xEnd:parseInt((null!==(h=s[0])&&void 0!==h?h:{}).clientX||-1,10),yStart:parseInt(r,10),yEnd:parseInt((null!==(v=s[0])&&void 0!==v?v:{}).clientY||-1,10)};l.dispatchEvent(new CustomEvent("swiped",{bubbles:!0,cancelable:!0,detail:f})),l.dispatchEvent(new CustomEvent(c,{bubbles:!0,cancelable:!0,detail:f}))}n=null,r=null,a=null}}),!1);var n=null,r=null,i=null,o=null,a=null,l=null}(window,document),new E({containerSelector:".roads__pics-list",itemsSelector:".roads__pics-item",activeItemClass:"roads__pics-item_active",nextScrollerSelector:".roads__button_dir_right",prevScrollerSelector:".roads__button_dir_left",textItemsSelectors:[{selector:".roads__title",attributeName:"title"},{selector:".roads__text",attributeName:"text"}]}).init(),I.forEach((function(e){e.addEventListener("click",(function(){var t=e.dataset.href;document.querySelector(t).scrollIntoView({behavior:"smooth"})}))})),x.addEventListener("click",(function(){A.classList.toggle("page_dark"),x.querySelector(".footer__switch-toggle").classList.toggle("footer__switch-toggle_dark")})),document.querySelectorAll(".bikes__button").forEach((function(e){e.addEventListener("click",(function(){document.querySelector(".bikes__type_active").classList.remove("bikes__type_active"),document.querySelector(".bikes__button_active").classList.remove("bikes__button_active"),document.querySelector("#bikes-type-".concat(e.dataset.type)).classList.add("bikes__type_active"),e.classList.add("bikes__button_active")}))})),document.querySelector(".header__burger").addEventListener("click",(function(){document.querySelector(".header__links").classList.toggle("header__links_opened"),document.querySelector(".header__burger").classList.toggle("hamburger_active")})),document.querySelector(".header").addEventListener("swiped",(function(e){console.log(e.target),console.log(e.detail),console.log(e.detail.dir)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUQxRCxTQUFTSSxpQkFBaUIsa0JBQWtCVixTQUFRLFNBQUFpRSxHQUNsREEsRUFBTzFDLGlCQUFpQixTQUFTLFdBQy9CakIsU0FDR0MsY0FBYyx1QkFDZGQsVUFDQUMsT0FBTyxzQkFDVlksU0FDR0MsY0FBYyx5QkFDZGQsVUFDQUMsT0FBTyx3QkFDVlksU0FDR0MsY0FESCxzQkFDZ0MwRCxFQUFPN0QsUUFBUThELE9BQzVDekUsVUFDQU0sSUFBSSxzQkFDUGtFLEVBQ0d4RSxVQUNBTSxJQUFJLHVCQUNSLEdBQ0YsSUFFRE8sU0FBU0MsY0FBYyxtQkFBbUJnQixpQkFBaUIsU0FBUyxXQUNsRWpCLFNBQVNDLGNBQWMsa0JBQWtCZCxVQUFVdUUsT0FBTyx3QkFDMUQxRCxTQUFTQyxjQUFjLG1CQUFtQmQsVUFBVXVFLE9BQU8sbUJBQzVELElBRUQxRCxTQUFTQyxjQUFjLFdBQVdnQixpQkFBaUIsVUFBVSxTQUFBSSxHQUMzRHdDLFFBQVFDLElBQUl6QyxFQUFFQyxRQUNkdUMsUUFBUUMsSUFBSXpDLEVBQUUrQixRQUNkUyxRQUFRQyxJQUFJekMsRUFBRStCLE9BQU9wRSxJQUN0QixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhdmVsLy4vc3JjL2NvbXBvbmVudHMvQ2Fyb3VzZWxTY3JvbGxlci5qcyIsIndlYnBhY2s6Ly9ncmF2ZWwvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL2dyYXZlbC8uL3NyYy9jb21wb25lbnRzL3N3aXBlLmpzIiwid2VicGFjazovL2dyYXZlbC8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJvdXNlbFNjcm9sbGVyIHtcbiAgI2NvbnRhaW5lclxuICAjaXRlbXNcbiAgI2FjdGl2ZUl0ZW1DbGFzc1xuICAjdGV4dEl0ZW1zU2VsZWN0b3JzXG4gICNuZXh0U2Nyb2xsZXJcbiAgI3ByZXZTY3JvbGxlclxuICAjY3VycmVudElkeFxuICAjbGVuZ3RoXG4gICN0ZXh0RWxlbWVudHNcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgY29udGFpbmVyU2VsZWN0b3IsXG4gICAgaXRlbXNTZWxlY3RvcixcbiAgICBuZXh0U2Nyb2xsZXJTZWxlY3RvcixcbiAgICBwcmV2U2Nyb2xsZXJTZWxlY3RvcixcbiAgICBhY3RpdmVJdGVtQ2xhc3MsXG4gICAgdGV4dEl0ZW1zU2VsZWN0b3JzXG4gIH0pIHtcbiAgICB0aGlzLiNjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgICB0aGlzLiNpdGVtcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChpdGVtc1NlbGVjdG9yKSk7XG4gICAgdGhpcy4jYWN0aXZlSXRlbUNsYXNzID0gYWN0aXZlSXRlbUNsYXNzO1xuICAgIHRoaXMuI3RleHRJdGVtc1NlbGVjdG9ycyA9IHRleHRJdGVtc1NlbGVjdG9ycztcbiAgICB0aGlzLiNuZXh0U2Nyb2xsZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5leHRTY3JvbGxlclNlbGVjdG9yKTtcbiAgICB0aGlzLiNwcmV2U2Nyb2xsZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByZXZTY3JvbGxlclNlbGVjdG9yKTtcbiAgfVxuXG4gICNyZXNldFBhZ2UoKSB7XG4gICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xuICB9XG5cbiAgI3NldFRleHRFbGVtZW50cygpIHtcbiAgICB0aGlzLiN0ZXh0RWxlbWVudHMgPSB0aGlzLiN0ZXh0SXRlbXNTZWxlY3RvcnMubWFwKGl0ZW0gPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpdGVtLnNlbGVjdG9yKSxcbiAgICAgICAgc291cmNlOiBpdGVtLmF0dHJpYnV0ZU5hbWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gICNhZGRTY3JvbGxQbGFjZWhvbGRlcnMoKSB7XG4gICAgY29uc3QgZW5kRWxlbWVudCA9IHRoaXMuI2l0ZW1zW3RoaXMuI2xlbmd0aCAtIDFdLmNsb25lTm9kZSh0cnVlKTtcbiAgICBjb25zdCBzdGFydEVsZW1lbnQgPSB0aGlzLiNpdGVtc1swXS5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICB0aGlzLiNjb250YWluZXIuYXBwZW5kKHN0YXJ0RWxlbWVudCk7XG4gICAgdGhpcy4jY29udGFpbmVyLnByZXBlbmQoZW5kRWxlbWVudCk7XG4gICAgdGhpcy4jaXRlbXMgPSBbZW5kRWxlbWVudCwgLi4udGhpcy4jaXRlbXMsIHN0YXJ0RWxlbWVudF07XG4gIH1cblxuICAjY2hlY2tTY3JvbGxCb3JkZXIgPSAoZGlyKSA9PiB7XG4gICAgY29uc3QgYm9yZGVyID0gZGlyID09PSAnbmV4dCcgPyB0aGlzLiNsZW5ndGggOiAwO1xuICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gZGlyID09PSAnbmV4dCcgPyAwIDogdGhpcy4jbGVuZ3RoO1xuICAgIHRoaXMuI2l0ZW1zW3RoaXMuI2N1cnJlbnRJZHhdLmNsYXNzTGlzdC5yZW1vdmUodGhpcy4jYWN0aXZlSXRlbUNsYXNzKTtcbiAgICBpZiAodGhpcy4jY3VycmVudElkeCA9PT0gYm9yZGVyKSB7XG4gICAgICB0aGlzLiNpdGVtc1twbGFjZWhvbGRlcl0uc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgICBpbmxpbmU6ICdzdGFydCcsXG4gICAgICAgIGJsb2NrOiAnbmVhcmVzdCcsXG4gICAgICAgIGJlaGF2aW9yOiAnYXV0bydcbiAgICAgIH0pO1xuICAgICAgdGhpcy4jY3VycmVudElkeCA9IHBsYWNlaG9sZGVyO1xuICAgIH1cbiAgICB0aGlzLiNjdXJyZW50SWR4ID0gZGlyID09PSAnbmV4dCdcbiAgICAgID8gdGhpcy4jY3VycmVudElkeCArIDFcbiAgICAgIDogdGhpcy4jY3VycmVudElkeCAtIDE7XG4gIH1cblxuICAjc2Nyb2xsVG9DdXJyZW50SXRlbSA9IChiZWhhdmlvciA9ICdzbW9vdGgnKSA9PiB7XG4gICAgdGhpcy4jaXRlbXNbdGhpcy4jY3VycmVudElkeF0uY2xhc3NMaXN0LmFkZCh0aGlzLiNhY3RpdmVJdGVtQ2xhc3MpO1xuICAgIHRoaXMuI2l0ZW1zW3RoaXMuI2N1cnJlbnRJZHhdLnNjcm9sbEludG9WaWV3KHtcbiAgICAgIGlubGluZTogJ3N0YXJ0JyxcbiAgICAgIGJsb2NrOiAnbmVhcmVzdCcsXG4gICAgICBiZWhhdmlvclxuICAgIH0pO1xuICAgIHRoaXMuI3RleHRFbGVtZW50cy5mb3JFYWNoKCh7IGVsZW1lbnQsIHNvdXJjZSB9KSA9PiB7XG4gICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy4jaXRlbXNbdGhpcy4jY3VycmVudElkeF0uZGF0YXNldFtzb3VyY2VdO1xuICAgIH0pO1xuICB9XG5cbiAgI3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuI25leHRTY3JvbGxlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuI2NoZWNrU2Nyb2xsQm9yZGVyKCduZXh0Jyk7XG4gICAgICB0aGlzLiNzY3JvbGxUb0N1cnJlbnRJdGVtKCk7XG4gICAgfSk7XG4gICAgdGhpcy4jcHJldlNjcm9sbGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy4jY2hlY2tTY3JvbGxCb3JkZXIoJ3ByZXYnKTtcbiAgICAgIHRoaXMuI3Njcm9sbFRvQ3VycmVudEl0ZW0oKTtcbiAgICB9KTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy4jY3VycmVudElkeCA9IDE7XG4gICAgdGhpcy4jbGVuZ3RoID0gdGhpcy4jaXRlbXMubGVuZ3RoO1xuICAgIHRoaXMuI3NldFRleHRFbGVtZW50cygpXG4gICAgdGhpcy4jYWRkU2Nyb2xsUGxhY2Vob2xkZXJzKCk7XG4gICAgdGhpcy4jc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLiNzY3JvbGxUb0N1cnJlbnRJdGVtKCdhdXRvJyk7XG4gICAgdGhpcy4jcmVzZXRQYWdlKClcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGFuY2hvckxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaHJlZl0nKTtcbmV4cG9ydCBjb25zdCB0b2dnbGVUaGVtZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb290ZXJfX3RoZW1lLXN3aXRjaCcpO1xuZXhwb3J0IGNvbnN0IHBhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnZScpO1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlU3dpcGVFdmVudCh3aW5kb3csIGRvY3VtZW50KSB7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBoYW5kbGVUb3VjaFN0YXJ0LCBmYWxzZSk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGhhbmRsZVRvdWNoTW92ZSwgZmFsc2UpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGhhbmRsZVRvdWNoRW5kLCBmYWxzZSk7XG5cbiAgbGV0IHhEb3duID0gbnVsbDtcbiAgbGV0IHlEb3duID0gbnVsbDtcbiAgbGV0IHhEaWZmID0gbnVsbDtcbiAgbGV0IHlEaWZmID0gbnVsbDtcbiAgbGV0IHRpbWVEb3duID0gbnVsbDtcbiAgbGV0IHN0YXJ0RWxlbWVudCA9IG51bGw7XG5cbiAgZnVuY3Rpb24gaGFuZGxlVG91Y2hFbmQoZSkge1xuICAgIGlmIChzdGFydEVsZW1lbnQgIT09IGUudGFyZ2V0KSByZXR1cm47XG5cbiAgICBjb25zdCBzd2lwZVRocmVzaG9sZCA9IDIwO1xuICAgIGNvbnN0IHN3aXBlVGltZW91dCA9IDUwMDtcbiAgICBjb25zdCB0aW1lRGlmZiA9IERhdGUubm93KCkgLSB0aW1lRG93bjtcbiAgICBsZXQgZXZlbnRUeXBlID0gJyc7XG4gICAgY29uc3QgY2hhbmdlZFRvdWNoZXMgPSBlLmNoYW5nZWRUb3VjaGVzIHx8IGUudG91Y2hlcyB8fCBbXTtcblxuICAgIGlmIChNYXRoLmFicyh4RGlmZikgPiBNYXRoLmFicyh5RGlmZikpIHtcbiAgICAgIGlmIChNYXRoLmFicyh4RGlmZikgPiBzd2lwZVRocmVzaG9sZCAmJiB0aW1lRGlmZiA8IHN3aXBlVGltZW91dCkge1xuICAgICAgICBldmVudFR5cGUgPSB4RGlmZiA+IDAgPyAnc3dpcGVkLWxlZnQnIDogJ3N3aXBlZC1yaWdodCc7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChNYXRoLmFicyh5RGlmZikgPiBzd2lwZVRocmVzaG9sZCAmJiB0aW1lRGlmZiA8IHN3aXBlVGltZW91dCkge1xuICAgICAgZXZlbnRUeXBlID0geURpZmYgPiAwID8gJ3N3aXBlZC11cCcgOiAnc3dpcGVkLWRvd24nO1xuICAgIH1cblxuICAgIGlmIChldmVudFR5cGUgIT09ICcnKSB7XG5cbiAgICAgIGNvbnN0IGV2ZW50RGF0YSA9IHtcbiAgICAgICAgZGlyOiBldmVudFR5cGUucmVwbGFjZSgvc3dpcGVkLS8sICcnKSxcbiAgICAgICAgdG91Y2hUeXBlOiAoY2hhbmdlZFRvdWNoZXNbMF0gPz8ge30pLnRvdWNoVHlwZSA/PyAnZGlyZWN0JyxcbiAgICAgICAgeFN0YXJ0OiBwYXJzZUludCh4RG93biwgMTApLFxuICAgICAgICB4RW5kOiBwYXJzZUludCgoY2hhbmdlZFRvdWNoZXNbMF0gPz8ge30pLmNsaWVudFggfHwgLTEsIDEwKSxcbiAgICAgICAgeVN0YXJ0OiBwYXJzZUludCh5RG93biwgMTApLFxuICAgICAgICB5RW5kOiBwYXJzZUludCgoY2hhbmdlZFRvdWNoZXNbMF0gPz8ge30pLmNsaWVudFkgfHwgLTEsIDEwKVxuICAgICAgfTtcblxuICAgICAgc3RhcnRFbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdzd2lwZWQnLCB7IGJ1YmJsZXM6IHRydWUsIGNhbmNlbGFibGU6IHRydWUsIGRldGFpbDogZXZlbnREYXRhIH0pKTtcblxuICAgICAgc3RhcnRFbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KGV2ZW50VHlwZSwgeyBidWJibGVzOiB0cnVlLCBjYW5jZWxhYmxlOiB0cnVlLCBkZXRhaWw6IGV2ZW50RGF0YSB9KSk7XG4gICAgfVxuXG4gICAgeERvd24gPSBudWxsO1xuICAgIHlEb3duID0gbnVsbDtcbiAgICB0aW1lRG93biA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVUb3VjaFN0YXJ0KGUpIHtcblxuICAgIHN0YXJ0RWxlbWVudCA9IGUudGFyZ2V0O1xuXG4gICAgdGltZURvd24gPSBEYXRlLm5vdygpO1xuICAgIHhEb3duID0gZS50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgeURvd24gPSBlLnRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICB4RGlmZiA9IDA7XG4gICAgeURpZmYgPSAwO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlKGUpIHtcbiAgICBpZiAoIXhEb3duIHx8ICF5RG93bikgcmV0dXJuO1xuXG4gICAgY29uc3QgeFVwID0gZS50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgY29uc3QgeVVwID0gZS50b3VjaGVzWzBdLmNsaWVudFk7XG5cbiAgICB4RGlmZiA9IHhEb3duIC0geFVwO1xuICAgIHlEaWZmID0geURvd24gLSB5VXA7XG4gIH1cblxuICBmdW5jdGlvbiBnZXROZWFyZXN0QXR0cmlidXRlKGVsLCBhdHRyaWJ1dGVOYW1lLCBkZWZhdWx0VmFsdWUpIHtcbiAgICB3aGlsZSAoZWwgJiYgZWwgIT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgICAgY29uc3QgYXR0cmlidXRlVmFsdWUgPSBlbC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG5cbiAgICAgIGlmIChhdHRyaWJ1dGVWYWx1ZSkge1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlVmFsdWU7XG4gICAgICB9XG4gICAgICBlbCA9IGVsLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gIH1cbn07XG4iLCJpbXBvcnQgQ2Fyb3VzZWxTY3JvbGxlciBmcm9tICdAL2NvbXBvbmVudHMvQ2Fyb3VzZWxTY3JvbGxlcic7XG5cbmltcG9ydCB7IGFuY2hvckxpbmtzLCBwYWdlLCB0b2dnbGVUaGVtZUJ1dHRvbiB9IGZyb20gJ0AvdXRpbHMvY29uc3RhbnRzLmpzJztcblxuXG5pbXBvcnQgY3JlYXRlU3dpcGVFdmVudCBmcm9tICdAL2NvbXBvbmVudHMvc3dpcGUnO1xuY3JlYXRlU3dpcGVFdmVudCh3aW5kb3csIGRvY3VtZW50KTtcblxuY29uc3QgYmlrZXNDYXJvdXNlbCA9IG5ldyBDYXJvdXNlbFNjcm9sbGVyKHtcbiAgY29udGFpbmVyU2VsZWN0b3I6ICcucm9hZHNfX3BpY3MtbGlzdCcsXG4gIGl0ZW1zU2VsZWN0b3I6ICcucm9hZHNfX3BpY3MtaXRlbScsXG4gIGFjdGl2ZUl0ZW1DbGFzczogJ3JvYWRzX19waWNzLWl0ZW1fYWN0aXZlJyxcbiAgbmV4dFNjcm9sbGVyU2VsZWN0b3I6ICcucm9hZHNfX2J1dHRvbl9kaXJfcmlnaHQnLFxuICBwcmV2U2Nyb2xsZXJTZWxlY3RvcjogJy5yb2Fkc19fYnV0dG9uX2Rpcl9sZWZ0JyxcbiAgdGV4dEl0ZW1zU2VsZWN0b3JzOiBbXG4gICAgeyBzZWxlY3RvcjogJy5yb2Fkc19fdGl0bGUnLCBhdHRyaWJ1dGVOYW1lOiAndGl0bGUnIH0sXG4gICAgeyBzZWxlY3RvcjogJy5yb2Fkc19fdGV4dCcsIGF0dHJpYnV0ZU5hbWU6ICd0ZXh0JyB9LFxuICBdXG59KTtcbmJpa2VzQ2Fyb3VzZWwuaW5pdCgpO1xuXG5hbmNob3JMaW5rcy5mb3JFYWNoKGxpbmsgPT4ge1xuICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0IHNlY3Rpb25JZCA9IGxpbmsuZGF0YXNldC5ocmVmO1xuICAgIGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihzZWN0aW9uSWQpXG4gICAgICAuc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgICAgIH0pO1xuICB9KTtcbn0pO1xuXG50b2dnbGVUaGVtZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcGFnZS5jbGFzc0xpc3QudG9nZ2xlKCdwYWdlX2RhcmsnKTtcbiAgdG9nZ2xlVGhlbWVCdXR0b25cbiAgICAucXVlcnlTZWxlY3RvcignLmZvb3Rlcl9fc3dpdGNoLXRvZ2dsZScpXG4gICAgLmNsYXNzTGlzdFxuICAgIC50b2dnbGUoJ2Zvb3Rlcl9fc3dpdGNoLXRvZ2dsZV9kYXJrJyk7XG59KTtcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJpa2VzX19idXR0b24nKS5mb3JFYWNoKGJ1dHRvbiA9PiB7XG4gIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5iaWtlc19fdHlwZV9hY3RpdmUnKVxuICAgICAgLmNsYXNzTGlzdFxuICAgICAgLnJlbW92ZSgnYmlrZXNfX3R5cGVfYWN0aXZlJyk7XG4gICAgZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcuYmlrZXNfX2J1dHRvbl9hY3RpdmUnKVxuICAgICAgLmNsYXNzTGlzdFxuICAgICAgLnJlbW92ZSgnYmlrZXNfX2J1dHRvbl9hY3RpdmUnKTtcbiAgICBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoYCNiaWtlcy10eXBlLSR7YnV0dG9uLmRhdGFzZXQudHlwZX1gKVxuICAgICAgLmNsYXNzTGlzdFxuICAgICAgLmFkZCgnYmlrZXNfX3R5cGVfYWN0aXZlJyk7XG4gICAgYnV0dG9uXG4gICAgICAuY2xhc3NMaXN0XG4gICAgICAuYWRkKCdiaWtlc19fYnV0dG9uX2FjdGl2ZScpO1xuICB9KTtcbn0pO1xuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19idXJnZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fbGlua3MnKS5jbGFzc0xpc3QudG9nZ2xlKCdoZWFkZXJfX2xpbmtzX29wZW5lZCcpXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2J1cmdlcicpLmNsYXNzTGlzdC50b2dnbGUoJ2hhbWJ1cmdlcl9hY3RpdmUnKVxufSlcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcicpLmFkZEV2ZW50TGlzdGVuZXIoJ3N3aXBlZCcsIGUgPT4ge1xuICBjb25zb2xlLmxvZyhlLnRhcmdldCk7XG4gIGNvbnNvbGUubG9nKGUuZGV0YWlsKTtcbiAgY29uc29sZS5sb2coZS5kZXRhaWwuZGlyKTtcbn0pO1xuIl0sIm5hbWVzIjpbIkNhcm91c2VsU2Nyb2xsZXIiLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zU2VsZWN0b3IiLCJuZXh0U2Nyb2xsZXJTZWxlY3RvciIsInByZXZTY3JvbGxlclNlbGVjdG9yIiwiYWN0aXZlSXRlbUNsYXNzIiwidGV4dEl0ZW1zU2VsZWN0b3JzIiwiZGlyIiwiYm9yZGVyIiwicGxhY2Vob2xkZXIiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJzY3JvbGxJbnRvVmlldyIsImlubGluZSIsImJsb2NrIiwiYmVoYXZpb3IiLCJhZGQiLCJmb3JFYWNoIiwiZWxlbWVudCIsInNvdXJjZSIsInRleHRDb250ZW50IiwiZGF0YXNldCIsInRoaXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwibGVuZ3RoIiwid2luZG93Iiwic2Nyb2xsVG8iLCJtYXAiLCJpdGVtIiwic2VsZWN0b3IiLCJhdHRyaWJ1dGVOYW1lIiwiZW5kRWxlbWVudCIsImNsb25lTm9kZSIsInN0YXJ0RWxlbWVudCIsImFwcGVuZCIsInByZXBlbmQiLCJhZGRFdmVudExpc3RlbmVyIiwiYW5jaG9yTGlua3MiLCJ0b2dnbGVUaGVtZUJ1dHRvbiIsInBhZ2UiLCJlIiwidGFyZ2V0IiwidGltZURvd24iLCJEYXRlIiwibm93IiwieERvd24iLCJ0b3VjaGVzIiwiY2xpZW50WCIsInlEb3duIiwiY2xpZW50WSIsInhEaWZmIiwieURpZmYiLCJ4VXAiLCJ5VXAiLCJ0aW1lRGlmZiIsImV2ZW50VHlwZSIsImNoYW5nZWRUb3VjaGVzIiwiTWF0aCIsImFicyIsImV2ZW50RGF0YSIsInJlcGxhY2UiLCJ0b3VjaFR5cGUiLCJ4U3RhcnQiLCJwYXJzZUludCIsInhFbmQiLCJ5U3RhcnQiLCJ5RW5kIiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJkZXRhaWwiLCJjcmVhdGVTd2lwZUV2ZW50IiwiaW5pdCIsImxpbmsiLCJzZWN0aW9uSWQiLCJocmVmIiwidG9nZ2xlIiwiYnV0dG9uIiwidHlwZSIsImNvbnNvbGUiLCJsb2ciXSwic291cmNlUm9vdCI6IiJ9